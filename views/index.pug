doctype html
html
    head
        title My Tasks
        // 1. Nh√∫ng Font ch·ªØ ƒë·∫πp (Poppins) t·ª´ Google
        link(href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet")
        // 2. Bootstrap 5
        link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet")
        // 3. Icons
        link(href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet")
    
        // 4. CSS T√πy ch·ªânh
        style.
            body {
                font-family: 'Poppins', sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* M√†u t√≠m m·ªông m∆° */
                min-height: 100vh;
                padding-bottom: 50px;
            }
            .glass-card {
                background: rgba(255, 255, 255, 0.95);
                border-radius: 24px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                border: none;
            }
            .task-item {
                background: #fff;
                border-radius: 16px;
                margin-bottom: 12px;
                transition: all 0.3s ease;
                border: 1px solid #f0f0f0;
                box-shadow: 0 4px 6px rgba(0,0,0,0.02);
            }
            .task-item:hover {
                transform: translateY(-3px);
                box-shadow: 0 8px 15px rgba(0,0,0,0.1);
                border-color: #e0e0e0;
            }
            .btn-custom-add {
                background: linear-gradient(45deg, #ff6b6b, #f06595);
                border: none;
                border-radius: 50px;
                padding: 10px 24px;
                font-weight: 600;
                box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
                transition: transform 0.2s;
            }
            .btn-custom-add:hover {
                transform: scale(1.05);
                background: linear-gradient(45deg, #ff8787, #f783ac);
            }
            /* Badge tr·∫°ng th√°i m·ªÅm m·∫°i h∆°n */
            .badge-soft-danger {
                background-color: #ffe5e5;
                color: #e03131;
                padding: 6px 12px;
                border-radius: 20px;
            }

    body
        div.container.py-5
            div.row.justify-content-center
                div.col-md-8.col-lg-6
          
                    // Header ch√†o m·ª´ng
                    div.text-center.mb-5.text-white
                        h2.fw-bold.mb-1 Xin ch√†o, B·∫°n! üëã
                        p.opacity-75 H√¥m nay b·∫°n c√≥ d·ª± ƒë·ªãnh g√¨ kh√¥ng?

                    div.card.glass-card.p-4
                        // D√≤ng ti√™u ƒë·ªÅ + N√∫t th√™m m·ªõi
                        div.d-flex.justify-content-between.align-items-center.mb-4
                            h4.fw-bold.text-dark.m-0 Nhi·ªám v·ª•
                            a.btn.btn-custom-add.text-white(href="/create") 
                                i.bi.bi-plus-lg.me-2 
                                | Th√™m m·ªõi

                        // Danh s√°ch c√¥ng vi·ªác
                        if tasks.length == 0
                            div.text-center.py-5
                                i.bi.bi-clipboard-x.display-1.text-muted.opacity-25
                                p.text-muted.mt-3 Ch∆∞a c√≥ c√¥ng vi·ªác n√†o. Th∆∞ gi√£n ƒëi! ‚òï
                        else
                            div.d-flex.flex-column
                                each task in tasks
                                    // M·ªói task l√† m·ªôt kh·ªëi ri√™ng bi·ªát (task-item)
                                    div.task-item.p-3.d-flex.justify-content-between.align-items-center
                                        
                                        // B√™n tr√°i: N·ªôi dung
                                        div.d-flex.align-items-center.gap-3
                                            div
                                                h6.mb-0.fw-bold.text-dark #{task.title}
                                                
                                                // Meta data nh·ªè b√™n d∆∞·ªõi
                                                div.d-flex.align-items-center.mt-1
                                                    if task.is_important
                                                        span.badge-soft-danger.me-2.small
                                                            i.bi.bi-star-fill.me-1
                                                            | Quan tr·ªçng
                                                    span.small.text-muted(style="font-size: 0.8rem") #{task.created_at.toLocaleString('vi-VN', {hour: '2-digit', minute:'2-digit', day:'2-digit', month:'2-digit'})}

                                        // B√™n ph·∫£i: C√°c n√∫t h√†nh ƒë·ªông (Detail - Edit - Delete)
                                        div.d-flex.gap-2
                                            
                                            // 1. N√∫t Detail (M·ªõi th√™m - M√†u xanh ng·ªçc)
                                            a.btn.btn-light.rounded-circle.text-info.shadow-sm(href=`/detail/${task.id}` style="width: 35px; height: 35px; display:flex; align-items:center; justify-content:center;")
                                                i.bi.bi-eye-fill(style="font-size: 0.9rem")

                                            // 2. N√∫t Edit
                                            a.btn.btn-light.rounded-circle.text-primary.shadow-sm(href=`/edit/${task.id}` style="width: 35px; height: 35px; display:flex; align-items:center; justify-content:center;")
                                                i.bi.bi-pencil-fill(style="font-size: 0.9rem")
                                            
                                            // 3. N√∫t Delete
                                            a.btn.btn-light.rounded-circle.text-danger.shadow-sm(href=`/delete/${task.id}` onclick="return confirm('B·∫°n ƒë√£ l√†m xong vi·ªác n√†y ch∆∞a?')" style="width: 35px; height: 35px; display:flex; align-items:center; justify-content:center;")
                                                i.bi.bi-trash-fill(style="font-size: 0.9rem")